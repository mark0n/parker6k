\hypertarget{classp6kController}{
\section{p6kController Class Reference}
\label{classp6kController}\index{p6kController@{p6kController}}
}


{\ttfamily \#include $<$parker6kController.h$>$}\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classp6kController_ac4f52e54e4f8047ac602b2760aaa0792}{p6kController} (const char $\ast$portName, const char $\ast$lowLevelPortName, int lowLevelPortAddress, int numAxes, double movingPollPeriod, double idlePollPeriod)
\item 
asynStatus \hyperlink{classp6kController_a5089092687d5a2ebaf54d5a06d23a185}{printConnectedStatus} (void)
\item 
asynStatus \hyperlink{classp6kController_a9130075d7f114acc2a35a53a85b5431a}{writeInt32} (asynUser $\ast$pasynUser, epicsInt32 value)
\item 
asynStatus \hyperlink{classp6kController_a9a0b81dabca6419fafe18f36f9abb2e9}{writeFloat64} (asynUser $\ast$pasynUser, epicsFloat64 value)
\item 
asynStatus \hyperlink{classp6kController_ad8b3998f6cfb1016e86aff07eb318aca}{setDeferredMoves} (bool deferMoves)
\item 
virtual asynStatus \hyperlink{classp6kController_a673297b9788a7a52afb9ed452eb7c03e}{writeOctet} (asynUser $\ast$pasynUser, const char $\ast$value, size\_\-t nChars, size\_\-t $\ast$nActual)
\item 
void \hyperlink{classp6kController_ae352b601eee75d91883b6955fafa25c8}{report} (FILE $\ast$fp, int level)
\item 
\hyperlink{classp6kAxis}{p6kAxis} $\ast$ \hyperlink{classp6kController_a0790d66b39dbebbb6265bcabb167e3a5}{getAxis} (asynUser $\ast$pasynUser)
\item 
\hyperlink{classp6kAxis}{p6kAxis} $\ast$ \hyperlink{classp6kController_a1895dba80778089467a1a5d4554fd4bb}{getAxis} (int axisNo)
\item 
asynStatus \hyperlink{classp6kController_abc19f869fb74f3854cd9a664b3e35ded}{poll} ()
\item 
asynStatus \hyperlink{classp6kController_a01dd35adfa9e7382ce2314f301f15fda}{upload} (const char $\ast$filename)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classp6kAxis}{p6kAxis} $\ast$$\ast$ \hyperlink{classp6kController_a2c283d187ff47b5dd24c3fcd68b1cfa3}{pAxes\_\-}
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classp6kController_a0504dedd856d6bb91dbd02c649908922}{
class \hyperlink{classp6kController_a0504dedd856d6bb91dbd02c649908922}{p6kAxis}}
\label{classp6kController_a0504dedd856d6bb91dbd02c649908922}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classp6kController}{p6kController} derives from the virtual class asynMotorController. 

Definition at line 102 of file parker6kController.h.

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classp6kController_ac4f52e54e4f8047ac602b2760aaa0792}{
\index{p6kController@{p6kController}!p6kController@{p6kController}}
\index{p6kController@{p6kController}!p6kController@{p6kController}}
\subsubsection[{p6kController}]{\setlength{\rightskip}{0pt plus 5cm}p6kController::p6kController (const char $\ast$ {\em portName}, \/  const char $\ast$ {\em lowLevelPortName}, \/  int {\em lowLevelPortAddress}, \/  int {\em numAxes}, \/  double {\em movingPollPeriod}, \/  double {\em idlePollPeriod})}}
\label{classp6kController_ac4f52e54e4f8047ac602b2760aaa0792}
\hyperlink{classp6kController}{p6kController} constructor. 
\begin{DoxyParams}{Parameters}
\item[{\em portName}]The Asyn port name to use (that the motor record connects to). \item[{\em lowLevelPortName}]The name of the low level port that has already been created, to enable comms to the controller. \item[{\em lowLevelPortAddress}]The asyn address for the low level port \item[{\em numAxes}]The number of axes on the controller (1 based) \item[{\em movingPollPeriod}]The time (in milliseconds) between polling when axes are moving \item[{\em idlePollPeriod}]The time (in milliseconds) between polling when axes are idle \end{DoxyParams}


Definition at line 88 of file parker6kController.cpp.

\subsection{Member Function Documentation}
\hypertarget{classp6kController_a1895dba80778089467a1a5d4554fd4bb}{
\index{p6kController@{p6kController}!getAxis@{getAxis}}
\index{getAxis@{getAxis}!p6kController@{p6kController}}
\subsubsection[{getAxis}]{\setlength{\rightskip}{0pt plus 5cm}{\bf p6kAxis} $\ast$ p6kController::getAxis (int {\em axisNo})}}
\label{classp6kController_a1895dba80778089467a1a5d4554fd4bb}
Returns a pointer to an \hyperlink{classp6kAxis}{p6kAxis} object. Returns NULL if the axis number is invalid. 
\begin{DoxyParams}{Parameters}
\item[\mbox{$\leftarrow$} {\em axisNo}]Axis index number. \end{DoxyParams}


Definition at line 679 of file parker6kController.cpp.\hypertarget{classp6kController_a0790d66b39dbebbb6265bcabb167e3a5}{
\index{p6kController@{p6kController}!getAxis@{getAxis}}
\index{getAxis@{getAxis}!p6kController@{p6kController}}
\subsubsection[{getAxis}]{\setlength{\rightskip}{0pt plus 5cm}{\bf p6kAxis} $\ast$ p6kController::getAxis (asynUser $\ast$ {\em pasynUser})}}
\label{classp6kController_a0790d66b39dbebbb6265bcabb167e3a5}
Returns a pointer to an \hyperlink{classp6kAxis}{p6kAxis} object. Returns NULL if the axis number encoded in pasynUser is invalid. 
\begin{DoxyParams}{Parameters}
\item[\mbox{$\leftarrow$} {\em pasynUser}]asynUser structure that encodes the axis index number. \end{DoxyParams}


Definition at line 666 of file parker6kController.cpp.\hypertarget{classp6kController_abc19f869fb74f3854cd9a664b3e35ded}{
\index{p6kController@{p6kController}!poll@{poll}}
\index{poll@{poll}!p6kController@{p6kController}}
\subsubsection[{poll}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::poll ()}}
\label{classp6kController_abc19f869fb74f3854cd9a664b3e35ded}
Polls the controller, rather than individual axis. \begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 706 of file parker6kController.cpp.\hypertarget{classp6kController_a5089092687d5a2ebaf54d5a06d23a185}{
\index{p6kController@{p6kController}!printConnectedStatus@{printConnectedStatus}}
\index{printConnectedStatus@{printConnectedStatus}!p6kController@{p6kController}}
\subsubsection[{printConnectedStatus}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::printConnectedStatus (void)}}
\label{classp6kController_a5089092687d5a2ebaf54d5a06d23a185}
Utilty function to print the connected status of the low level asyn port. \begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 284 of file parker6kController.cpp.\hypertarget{classp6kController_ae352b601eee75d91883b6955fafa25c8}{
\index{p6kController@{p6kController}!report@{report}}
\index{report@{report}!p6kController@{p6kController}}
\subsubsection[{report}]{\setlength{\rightskip}{0pt plus 5cm}void p6kController::report (FILE $\ast$ {\em fp}, \/  int {\em level})}}
\label{classp6kController_ae352b601eee75d91883b6955fafa25c8}
asynReport function. Currently this just calls the base class. 

Definition at line 476 of file parker6kController.cpp.\hypertarget{classp6kController_ad8b3998f6cfb1016e86aff07eb318aca}{
\index{p6kController@{p6kController}!setDeferredMoves@{setDeferredMoves}}
\index{setDeferredMoves@{setDeferredMoves}!p6kController@{p6kController}}
\subsubsection[{setDeferredMoves}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::setDeferredMoves (bool {\em deferMoves})}}
\label{classp6kController_ad8b3998f6cfb1016e86aff07eb318aca}
Implement co-\/ordinated moves. 
\begin{DoxyParams}{Parameters}
\item[{\em deferMoves}]Flag to indicate we are setting or executing deferred moves. 0=turn off (execute), 1=turn on (defer moves) \end{DoxyParams}
\begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 901 of file parker6kController.cpp.\hypertarget{classp6kController_a01dd35adfa9e7382ce2314f301f15fda}{
\index{p6kController@{p6kController}!upload@{upload}}
\index{upload@{upload}!p6kController@{p6kController}}
\subsubsection[{upload}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::upload (const char $\ast$ {\em filename})}}
\label{classp6kController_a01dd35adfa9e7382ce2314f301f15fda}
Write a configuration file to the controller. This function reads a ASCII file that should only contain P6K commands terminated by a newline. Any commands with comments or whitespace are rejected. I kept this simple to leave open the possibility of porting to other platforms.

If any command fails then the function prints an error and sets an error parameter.

This function should be called after the driver controller instantiation, but before the axis objects are instantiated. Calling this function to setup the controller is optional. The driver can be used without it if the user has another means of pre-\/configuring the controller.


\begin{DoxyParams}{Parameters}
\item[{\em filename}](and full path) \end{DoxyParams}
\begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 822 of file parker6kController.cpp.\hypertarget{classp6kController_a9a0b81dabca6419fafe18f36f9abb2e9}{
\index{p6kController@{p6kController}!writeFloat64@{writeFloat64}}
\index{writeFloat64@{writeFloat64}!p6kController@{p6kController}}
\subsubsection[{writeFloat64}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::writeFloat64 (asynUser $\ast$ {\em pasynUser}, \/  epicsFloat64 {\em value})}}
\label{classp6kController_a9a0b81dabca6419fafe18f36f9abb2e9}
Deal with controller specific epicsFloat64 params. 
\begin{DoxyParams}{Parameters}
\item[{\em pasynUser}]\item[{\em value}]\end{DoxyParams}
\begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 503 of file parker6kController.cpp.\hypertarget{classp6kController_a9130075d7f114acc2a35a53a85b5431a}{
\index{p6kController@{p6kController}!writeInt32@{writeInt32}}
\index{writeInt32@{writeInt32}!p6kController@{p6kController}}
\subsubsection[{writeInt32}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::writeInt32 (asynUser $\ast$ {\em pasynUser}, \/  epicsInt32 {\em value})}}
\label{classp6kController_a9130075d7f114acc2a35a53a85b5431a}
Deal with controller specific epicsInt32 params. 
\begin{DoxyParams}{Parameters}
\item[{\em pasynUser}]\item[{\em value}]\end{DoxyParams}
\begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 550 of file parker6kController.cpp.\hypertarget{classp6kController_a673297b9788a7a52afb9ed452eb7c03e}{
\index{p6kController@{p6kController}!writeOctet@{writeOctet}}
\index{writeOctet@{writeOctet}!p6kController@{p6kController}}
\subsubsection[{writeOctet}]{\setlength{\rightskip}{0pt plus 5cm}asynStatus p6kController::writeOctet (asynUser $\ast$ {\em pasynUser}, \/  const char $\ast$ {\em value}, \/  size\_\-t {\em nChars}, \/  size\_\-t $\ast$ {\em nActual})\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classp6kController_a673297b9788a7a52afb9ed452eb7c03e}
Deal with controller specific asynOctet params. 
\begin{DoxyParams}{Parameters}
\item[{\em pasynUser}]\item[{\em value}]\item[{\em nChars}]\item[{\em nActual}]\end{DoxyParams}
\begin{DoxyReturn}{Returns}
asynStatus 
\end{DoxyReturn}


Definition at line 597 of file parker6kController.cpp.

\subsection{Member Data Documentation}
\hypertarget{classp6kController_a2c283d187ff47b5dd24c3fcd68b1cfa3}{
\index{p6kController@{p6kController}!pAxes\_\-@{pAxes\_\-}}
\index{pAxes\_\-@{pAxes\_\-}!p6kController@{p6kController}}
\subsubsection[{pAxes\_\-}]{\setlength{\rightskip}{0pt plus 5cm}{\bf p6kAxis}$\ast$$\ast$ {\bf p6kController::pAxes\_\-}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classp6kController_a2c283d187ff47b5dd24c3fcd68b1cfa3}
Array of pointers to axis objects 

Definition at line 126 of file parker6kController.h.

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
/home/mkp/github/parker6k/parker6kApp/src/parker6kController.h\item 
/home/mkp/github/parker6k/parker6kApp/src/parker6kController.cpp\end{DoxyCompactItemize}
